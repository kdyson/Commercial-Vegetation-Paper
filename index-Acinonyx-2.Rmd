---
title: Woody vegetation communities on office developments are heterogenous and meaningfully
  influenced by development and landscaping choices
bibliography: ../../../bibliography.bib
output: word_document
always_allow_html: yes
---

```{r VEG-SETUP, include=FALSE, echo = FALSE}

knitr::opts_chunk$set(
    echo = FALSE,
    warning = FALSE,
    message = FALSE
    )


 # Required addt'l repositories for latex
  # tinytex::tlmgr_install("setspace")


# This chapter .Rmd code relies on two sourced R codes:
# 'vegetation_data_processing.R' and 'vegetation_data_analysis.R.' These do the
# heavy lifting before importing results here for ggplot-ifying and presenting
# in Results and Discussion.

## Data manipulation --> analysis --> Rmarkdown (this doc)


## Load sourced R codes
all.current <- TRUE

if (all.current == TRUE) {

  load(file = "vegetation_data_analysis_complete_03292019.RData")

}

if (all.current == FALSE) {

  source("vegetation_data_analysis.R")
  
}  


## Load required libraries
  library(ggplot2)
  library(rgl)
  library(png)
  library(grid)
  library(gridExtra)
  library(ggrepel)
  library(tibble)
  library(pander)
  library(vegan)
  library(dplyr)

  options(digits = 3)

    levels(vegetation.clusters$tree.cluster.name) <- c("Native", "Ornamental")
    levels(vegetation.clusters$shrub.cluster.name) <- c("Ornamental", "Native")
    
    population.covariates.subset <- population.covariates[ population.covariates$vegetation_class %in%
                                                        c("HH", "MC", "MD", "MM", "LL"), ]
    
    
    PA.tree.sp.only <- matrify.tree.sp.only
        PA.tree.sp.only[PA.tree.sp.only > 0] <- 1
    PA.shrub.site <- matrify.shrub.site
        PA.shrub.site[PA.shrub.site > 0] <- 1
        
  
```

# Highlights

* Distinct vegetation communities on office developments dominated by native or ornamental species
* Native vegetation communities less common and easily missed in small simple random sample
* Measured neighborhood- and site-scale socio-economic variables did not explain variation in vegetation communities
* Development and landscaping choices drive meaningful differences in vegetation habitat


> focus on differences between residential and commercial property
> in order to make decisions about conservation of native spp etc. we're missing key information
> need to understand more than canopy cover, species composition is important for
> note... diversity is not necessarially important for trees, particularly. here, we have a few very important native conifers (cite old sources); high diversity is likely from introduced non-natives
> many of these studies don't separate tree and shrub richness...

> diversity of deveopment and landscaping approaches implies that improved habitat value for conservation is possible from existing models.


# Abstract

Vegetation communities and the habitat they provide are significantly impacted by humans in social-ecological systems. Yet the urban matrix must provide sufficient resources to support successful local species conservation. 

> this is awkward, need to focus on need for all land uses to contribute (or maybe just understanding them all?)

Thus understanding factors shaping vegetation communities and the resulting habitat quality and quantity available to other trophic levels in the urban matrix facilitates decision-making to support local species. Vegetation habitat on residential property is increasingly well studied, yet these efforts have not extended to commercial land uses. I examined the tree and shrub communities on office developments in Redmond and Bellevue, Washington, USA, and the variation explained by socio-economic context and development and landscaping choices. Woody vegetation communities on office developments in Redmond and Bellevue, Washington are heterogenous with groups characterized by native and ornamental specie,with implications for how urban ecologists sample. Additionally, I found evidence that development and landscaping choices, not socio-economic variables, are behind major divisions in vegetation groups in contrast with previous research on residential property. This impacts the quality and quantity of habitat provided by woody vegetation on office developments, with important implications for conservation and public policy. 


# Introduction

Human actions when developing and landscaping urban land influence patterns of vegetation community composition, abundance, and distribution through disturbance and succession mechanisms [@lehmann2014; @faeth2011; @avolio2018; @pickett2008]. These patterns of the vegetation community alter ecosystem service provision and habitat quality and quantity in social-ecological systems [@faeth2011; @byrne2007; @lehmann2014]. 

In the Puget Sound region, development has replaced fire as the primary disturbance driver and precursor to new forest stands [@gibb2002; @walcott1899; @sharpe1986; @halpern1995]. The mechanisms of disturbance when clearing and grading land for development include removing trees and other vegetation, removing topsoil, and compacting soil with heavy equipment [@andres2004; @dorney1984; @mckinney2002; @grimm2017; @turner2005; Figure \@ref(fig:FIG-development-pic)]. Vegetation patterns impacted include species composition, abundance, and distribution, patch structure, legacy vegetation, vegetation structure, plant establishment, and seed banks [@alberti2005; @pickett2001; @gibb2002; @mullaney2015; @peters2011; @sharpe1986; @byrne2007; @faeth2011]. Decisions made by developers and land owners at the time of development determine the extent of disturbance and influence future site conditions. For example, choosing to preserve existing trees determines legacy vegetation and influences important stand characteristics like tree age [@dorney1984]. 

```{r FIG-development-pic, fig.cap='Commercial development project located in Redmond, WA illustrating: a. clearing the site of vegetation and b. grading the site and digging foundation.'}

	knitr::include_graphics("../images/RedmondDevelopment.jpg")


```

Multiple processes determine the path of vegetation succession following disturbance. In social-ecological systems, both ecological succession processes like dispersal and regeneration from seed banks and socially mediated vegetation management influence vegetation succession [@zipperer2010process]. However, the latter has become the dominant plant establishment process contributing to succession [@grimm2017; @faeth2011; @widrlechner1990; @dorney1984; @vanheezik2014; @goodness2018]. Species composition, abundance, and distribution, and patch structure are among the vegetation patterns impacted by land owner decisions [@faeth2011]. The plants chosen are generally ornamental introduced shrubs, trees, or grasses, though using native species in landscaping is becoming more common [@vanheezik2014; @faeth2011; @germaine1998; @burghardt2009; @blair1996; @mckinney2002]. Once planted, these require significant energy and material inputs to arrest succession and maintain the desired aesthetic [@zipperer2010process; @faeth2011; @lebauer2008; @lepczyk2004]. Along with trees retained through tree preservation policies, these landscape plantings represent a significant portion of the vegetation on site and of the habitat quality and quantity available to other organisms [@faeth2011; @avolio2018].

Social factors motivating developer and land owner decisions in social-ecological systems are diverse. On office developments, development and landscaping choices are informed by a complex mix of trends in landscape design, office development marketing, regulations, landscape budget, expert opinion, and plant availability [@avolio2018; @widrlechner1990; @conway2016; @dorney1984]. On residential properties, neighborhood socio-economic variables including neighborhood age and wealth may explain much of the variation in planting choices [@hope2003; @clarke2013; @leong2018; @avolio2018]. Developers for all land uses are often motivated by cost and investment decisions [@almagor2017]; mass construction paired with removing existing vegetation is purportedly cheaper, though preserving vegetation may be less expensive in the long run [@mckinney2002].

In addition to social motivations, public policy both restricts and incentivizes developer and land owner actions when developing and landscaping urban land. Woody vegetation is responsible for aesthetic components of the landscape important to community identity and key ecosystem services like shade provision, rainwater interception, carbon sequestration, and primary productivity [@wolf2005; @collins2011; @elmendorf2008; @goodness2018; @conway2016]. As a result, many municipalities in the Puget Sound region and beyond have adopted clearing and grading permitting processes, impervious surface maximums and minimums via parking space requirements, tree protection policies, canopy cover goals, and vegetation planting policies [@young2011; @EPA2011; @delaria2008]. These have historically been important for determining urban vegetation in North America [@dorney1984]. For example, tree preservation policies dictate decisions that impact legacy vegetation, the abundance of old trees, and provision of native tree habitat. 

Together this combination of remnant, spontaneous, and planted natives and introduced species create vegetation communities and patterns in cities broadly and on office developments specifically [@wittig2010; @mckinney2002; @dorney1984]. As local biological communities are largely determined by available vegetation, landowner choices in planting vegetation impact food webs and biodiversity [@faeth2011; @avolio2018; @faeth2005]. For example, some common horticulturally-modified ornamental species like _Prunus_ L. are used less by native bees than related plants [@mach2018]. Introduced ornamentals are also unlikely to support the same insect species, or the same biomass or diversity of fauna as native habitat [@burghardt2009; @mckinney2002; @crisp1998; @rebele1994]. If insect populations and biomass change due to cultivated ornamental vegetation, species at higher trophic levels will also be impacted [@burghardt2009; @marzluff2001; @faeth2011]. 

While vegetation communities in the urban matrix can contribute to local biodiversity conservation, different decisions when developing and landscaping urban parcels will result in different quantity and quality of habitat available to other organisms [@alberti2003; @alberti2005; @polasky2005; @rosenzweig2003]. For conservation efforts to be successful, the matrix in which preserves are situated, including the built environment, must provide sufficient resources for local species [@miller2002; @fahrig2001; @fischer2006; @polasky2005; @rosenzweig2003]. This will require working with private landowners to alter private actions to support conservation of locally important vegetated habitat [@goddard2010; @miller2002]. 

Understanding the types of vegetation that result and the actions that create them is important for urban plant ecology and conservation. While vegetation surveys in urban areas have classified vegetation communities and examined human actions on residential neighborhoods and public open space [@dana2002; @hope2003; @lehmann2014], this research has generally not been extended to other land use types including office developments and other commercial land uses [@snep2011; @bourne2013]. This oversight means that there are important land uses in cities for which we lack information about the composition of vegetation communities.

Here I examined vegetation community composition on office developments in Bellevue and Redmond, Washington, USA. Specifically, I was interested in 1) the types of tree and shrub communities present on office developments; 2) how these communities are related to other choices such as percent impervious surface; 3) whether socio-economic conditions or 4) development and landscaping outcomes explain observed variation in vegetation communities. I hypothesized that vegetation communities on office developments were heterogeneous. I also hypothesized that neighborhood scale socio-economic variables found significant in explaining vegetation patterns on residential property were not significant on office developments [commercial property; @avolio2018; @hope2003; @conway2016], but that site-scale socio-economic variables were. Finally, I hypothesized that development and landscaping actions explain variation in tree and shrub community structure.

I found that vegetation communities are highly variable across office developments, and that development and landscaping actions best explain this variability. Unlike residential property, variation in vegetation communities on office developments are explained more by development and land management actions and are not driven by neighborhood or site scale socio-economic variables. The observed variability in woody vegetation suggests differences in habitat quality and quantity available to other organisms within one land use and has significant implications for how urban ecologists should approach sampling site design. Studies using a limited number of sites per land use are potentially drawing incorrect conclusions about vegetation and habitat potential based on the distribution of vegetation communities on each land use [@mcintyre2000urban].


# Materials and Methods {#CH2-methods}

## Study area and site selection

Redmond (2017 population 64,000) and Bellevue (population 144,000) are located east of Seattle in King County, Washington [@Census2017]. Both cities share a similar ecological history, a similar disturbance timeline for logging and agriculture, and have grown considerably since the opening of the Evergreen Point Floating Bridge (SR 520) in 1963. They are at similar elevations (< 500 ft) and experience the same climate and weather. The sampling frame was limited to Redmond and Bellevue north of I-90 and excluded developments in Bellevueâ€™s central business district.

I used disproportionate stratified random sampling to ensure that my sample included sites across the entire vegetation gradient. >>XXXX<< office development parcels met the initial study criteria of office use as defined by the King County Assessor's Office. I grouped adjacent parcels with the same owner and similar age built (within 3 years) to create a unit of analysis based on human action not cadastral boundaries. The initial population size was `r length(population.covariates$vegetation_class) ` potential study sites.

I then classified the vegetation at each potential study site into type categories using a brief visual estimation during site visits in early 2014 (Figure \@ref(fig:FIG-vegetation-types), Table \@ref(tab:TAB-vegclass)). Sites with no vegetation, with wetlands, or those that were currently under construction or undergoing landscape replanting were excluded from the analysis (`r sum(population.covariates$vegetation_class %in% c("WW", "XX", "LP")) ` sites). The remaining pool of `r sum(!(population.covariates$vegetation_class %in% c("WW", "XX", "LP")))` potential sites had no notable hydrological features on site.


```{r TAB-vegclass}

vegclasssum <- tibble(
`Vegetation Type` = c(
"High (HH)",
"Medium Canopy (MC)",
"Medium Diverse (MD)",
"Medium (MM)",
"Low (LL)",
"No Vegetation (LP)",
"Wetlands (WW)"
),
`Tree Cover` = c(
"30% native tree cover",
"30% native tree cover",
"15% tree cover",
"15% tree cover",
"< 10% tree cover",
"No trees",
"No requirement"
),
`Shrub Richness` = c(
"> 5 native shrub genera",
"No requirement",
"> 5 native shrub genera",
"> 5 shrub genera",
"< 5 shrub genera",
"No shrubs",
"No requirement"
),
`Strata Size` = c(
sum(population.covariates$vegetation_class == "HH"),
sum(population.covariates$vegetation_class == "MC"),
sum(population.covariates$vegetation_class == "MD"),
sum(population.covariates$vegetation_class == "MM"),
sum(population.covariates$vegetation_class == "LL"),
sum(population.covariates$vegetation_class == "LP"),
sum(population.covariates$vegetation_class == "WW")
),
`Sampled (n)` = c(5, 3, 4, 3, 5, 0, 0),
Notes = c(
" s",
" s",
" s",
" s",
" s",
"Excluded from further analysis",
"Wetland present, excluded from further analysis"
)
)

knitr::kable(vegclasssum, caption = "Vegetation type assignment criteria and strata size. Sites without vegetation and those with wetlands present were excluded from further analysis.",
             format = "pandoc", escape = TRUE)


#pander(vegclasssum)

```





```{r FIG-vegetation-types, fig.cap='(ref:vegetationtypes)'}

  knitr::include_graphics("../images/VegetationClasses.jpg")


```

(ref:vegetationtypes) Examples of each vegetation type, from top left to bottom right: High (HH); Medium Canopy (MC); Medium Diverse (MD); Medium (MM); Low (LL); no vegetation (LP; excluded); wetlands (WW; excluded).

I conducted stratified random sampling on sites with HH, MC, MD, MM, and LL vegetation. I restricted the sampling pool to sites in the 25^th^ to 85^th^ percentile of site area and the 15^th^ to 85^th^ percentile of surrounding impervious surfaces. These limits were imposed to avoid confounding factors based on the smallest strata (HH). 

I requested property access through three mailings sent to the property owner or manager on file in the King County Assessor's database [@dyson2018]. I targeted vegetation categories underrepresented in my sample in the second and third mailings. Of 46 mailed requests, 20 (`r round(20/46 * 100, 1)`%) received no response or were not deliverable. Of the 26 (`r round(26/46 * 100, 1)`%) responses received, 6 (`r round(6/26*100, 1)`%) of were rejected and 20 (`r round(20/26*100, 1)`%) were accepted (Table \@ref(tab:TAB-vegclass), Figure \@ref(fig:FIG-study-area-map)).

Commercial use of the sites in the sample included light industrial, white collar office space, and medical/dental offices. Some sites were fully leased to tenants, while others were either partly or fully owner-occupied. Company size ranged from less than 10 to many thousand employees.

```{r FIG-study-area-map, fig.cap='(ref:studyareacap)'}

  knitr::include_graphics("sitemap.png")


```

(ref:studyareacap) Map of office development study sites in Redmond and Bellevue, Washington. The population of office developments with High (HH), Medium Canopy (MC), Medium Diverse (MD), Medium (MM), and Low (LL) vegetation are represented with dark gray circles; excluded sites (no vegetation/LP, wetlands/WW, and under construction/XX) are represented with light gray circles. Sampled sites are shown with orange circles.



## Independent variables

Independent variables used in this analysis are defined in Table \@ref(tab:TAB-covariate-definitions). Previous research identified neighborhood socio-economic variables (median income, demographics) as significant [@hope2003; @martin2004; @walker2009; @dana2002; @grove2014; @QGIS]; these are included for comparison and to test whether surrounding residential property impacts residential developments. Commercial property variables include building quality and assessed land value. Unfortunately other measures were incorrect or incomplete. For example, some buildings received tax breaks following the 2008 recession resulting in an appraised value of 1,000 USD when the building's market value was greater than 5,000,000 USD.

I measured the height of dominant native conifers with a Nikon Forestry Pro Laser Rangefinder; this proxy measure was used as tree cores were not collected due to liability concerns [@dyson2018]. I used historical records and site construction plans to determine whether each site had a stand of 3 adjacent tree predating site development. I used _Pseudotsuga menziesii_ (Mirb.) Franco, _Thuja plicata_ Donn ex D. Don, and _Tsuga heterophylla_ (Raf.) Sarg. counts to calculate native conifer density. 

Broad ground cover material types were recorded on paper maps, then hand digitized in QGIS to calculate area [@QGIS]. Pervious cover types recorded include dense vegetation, dirt/litter, lawn (turf grass including moss and forb species), gravel, dense ivy, mulch, and water. I used semi-structured interviews of property owners, managers, and landscaping services along with site visits to obtain maintenance regime variables [@dexter1970; @harvey2011].

Sampled sites ranged from `r round(min(sample.covariates$DissolvedArea) * .00002296, 3)` acres to `r round(max(sample.covariates$DissolvedArea) * .00002296, 3)` acres in size. `r length(which(sample.covariates$DistrictName == "BELLEVUE")) ` sites were located in Bellevue and `r length(which(sample.covariates$DistrictName == "REDMOND"))` sites were located in Redmond. The office developments on study sites were built between 1975 and 2008. 


```{r TAB-covariate-definitions}



covariate.definitions <- tibble(
`Variable Name` = c(
"1. SOCIO-ECONOMIC SITE AND NEIGHBORHOOD VARIABLES",

"Area (acre)",
"Town",
"Building Age (in 2017)",
"Building Quality",
"Appraised Land Value per Acre",
"Impervious w/in 500 m (%)",
"Median Income",
"Percent Foreign-Born",

"2. DEVELOPMENT AND LANDSCAPING ACTION VARIABLES",

"Stands Predate Development",
"Median Height of Dominant Conifer",
"Density of Native Conifers",

"3. GROUND COVER MATERIAL AND MAINTENANCE REGIME",

"Ground Cover Types (%)",
"Dead Wood (count)",
"Irrigation",
"Mulch, Herbicide, and/or Fertilizer Application"
),

Definition = c(
" s",

"Site area, in acres.",
"Location, Bellevue or Redmond.",
"Age of building on site (or mean age for multiple buildings) in 2017.",
"Categorical 'quality class' assigned to buildings on the site",
"Appraised land value divided by site area. One missing assessed land values were replaced with population median land value.",
"Percent impervious surface within 500 m of the site's perimeter.",

"The median income of residents for the site's block group",
"The percent of residents born outside of the United States for the site's block group.",

" s",

"Binary variable indicating presence of a cluster of three+ trees that predate development. (Development)",
"Median height (m) of five dominant native conifer trees; age proxy. (Development)",
"Total density of Douglas-fir, western redcedar, and western hemlock (Development/Landscaping).",

" s",

"Ground cover types on site including lawn, mulch, and impervious surface.",
"Total abundance of stumps, logs, and snags on site.",
"Binary variable indicating whether irrigation is used during the summer months.",
"Binary variables (3) indicating whether landscaping crew applies mulch, herbicides, or fertilizers to a site."

),

`Data Source` = c(
" s",
"King County Assessor",
"King County Assessor",
"King County Assessor",
"King County Assessor",
"King County Assessor",
"National Land Cover Database 2011 Percent Developed Imperviousness dataset updated in 2014",

"American Community Survey 2014 5-year block group",
"American Community Survey 2014 5-year block group",

" s",
"Site survey",
"Site survey",
"Site survey",

" s",
"Site survey",
"Site survey",
"Interviews and site survey",
"Interviews and site survey"


),

`Population` = c(
" s",

paste0("Range: ", paste0(range(population.covariates.subset$acres)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(population.covariates.subset$acres)%>%round(2), "(",
       sd(population.covariates.subset$acres)%>%round(2), ")"),
paste("Bellevue:", sum(population.covariates.subset$DistrictName=="BELLEVUE", na.rm = T),
      "Redmond:", sum(population.covariates.subset$DistrictName=="REDMOND", na.rm=T)),
paste0("Range: ", paste0(range(population.covariates.subset$age.2017)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(population.covariates.subset$age.2017)%>%round(2), "(",
       sd(population.covariates.subset$age.2017)%>%round(2), ")"),

paste("Below Average:", sum(population.covariates.subset$BldgQuality_lookup %in%
                                c("LOW COST", "LOW/AVERAGE"), na.rm=T),
      "Average:", sum(population.covariates.subset$BldgQuality_lookup=="AVERAGE", na.rm = T),
      "Average/Good:", sum(population.covariates.subset$BldgQuality_lookup=="AVERAGE/GOOD", na.rm=T),
      "Good:", sum(population.covariates.subset$BldgQuality_lookup=="GOOD", na.rm=T),
      "Good/Excellent:", sum(population.covariates.subset$BldgQuality_lookup=="GOOD/EXCELLENT", na.rm=T)
      ),

paste0("Range: ", paste0(range(population.covariates.subset$landrentperacre)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(population.covariates.subset$landrentperacre)%>%round(2), "(",
       sd(population.covariates.subset$landrentperacre)%>%round(2), ")"),
paste0("Range: ", paste0(range(population.covariates.subset$dissolved_parcel_500m_buffer_impervious_500m_mean*100)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(population.covariates.subset$dissolved_parcel_500m_buffer_impervious_500m_mean*100)%>%round(2), "(",
       sd(population.covariates.subset$dissolved_parcel_500m_buffer_impervious_500m_mean*100)%>%round(2), ")"),
paste0("Range: ", paste0(range(population.covariates.subset$MedianHouseholdIncome_B19013e1)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(population.covariates.subset$MedianHouseholdIncome_B19013e1)%>%round(2), "(",
       sd(population.covariates.subset$MedianHouseholdIncome_B19013e1)%>%round(2), ")"),
paste0("Range: ", paste0(range(population.covariates.subset$Proportion_ForeignBorn_B99051e5*100)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(population.covariates.subset$Proportion_ForeignBorn_B99051e5*100)%>%round(2), "(",
       sd(population.covariates.subset$Proportion_ForeignBorn_B99051e5*100)%>%round(2), ")"),

" s",

"NA",
"NA",
"NA",

" s",

"NA",
"NA",
"NA",
"NA"
    
),

`Sample` = c(
" s",

paste0("Range: ", paste0(range(sample.covariates$acres)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(sample.covariates$acres)%>%round(2), "(",
       sd(sample.covariates$acres)%>%round(2), ")"),
paste("Bellevue:", sum(sample.covariates$DistrictName=="BELLEVUE", na.rm = T),
      "Redmond:", sum(sample.covariates$DistrictName=="REDMOND", na.rm=T)),
paste0("Range: ", paste0(range(sample.covariates$age.2017)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(sample.covariates$age.2017)%>%round(2), "(",
       sd(sample.covariates$age.2017)%>%round(2), ")"),

paste("Below Average:", sum(sample.covariates$BldgQuality_lookup %in%
                                c("LOW COST", "LOW/AVERAGE"), na.rm=T),
      "Average:", sum(sample.covariates$BldgQuality_lookup=="AVERAGE", na.rm = T),
      "Average/Good:", sum(sample.covariates$BldgQuality_lookup=="AVERAGE/GOOD", na.rm=T),
      "Good:", sum(sample.covariates$BldgQuality_lookup=="GOOD", na.rm=T),
      "Good/Excellent:", sum(sample.covariates$BldgQuality_lookup=="GOOD/EXCELLENT", na.rm=T)
      ),

paste0("Range: ", paste0(range(sample.covariates$landrentperacre)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(sample.covariates$landrentperacre)%>%round(2), "(",
       sd(sample.covariates$landrentperacre)%>%round(2), ")"),
paste0("Range: ", paste0(range(sample.covariates$dissolved_parcel_500m_buffer_impervious_500m_mean*100)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(sample.covariates$dissolved_parcel_500m_buffer_impervious_500m_mean*100)%>%round(2), "(",
       sd(sample.covariates$dissolved_parcel_500m_buffer_impervious_500m_mean*100)%>%round(2), ")"),
paste0("Range: ", paste0(range(sample.covariates$MedianHouseholdIncome_B19013e1)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(sample.covariates$MedianHouseholdIncome_B19013e1)%>%round(2), "(",
       sd(sample.covariates$MedianHouseholdIncome_B19013e1)%>%round(2), ")"),
paste0("Range: ", paste0(range(sample.covariates$Proportion_ForeignBorn_B99051e5*100)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(sample.covariates$Proportion_ForeignBorn_B99051e5*100)%>%round(2), "(",
       sd(sample.covariates$Proportion_ForeignBorn_B99051e5*100)%>%round(2), ")"),

" s",

paste("Yes:", sum(management.landscaping$stand.predate.development=="yes", na.rm = T),
      "No:", sum(management.landscaping$stand.predate.development=="no", na.rm=T)),

paste0("Range: ", paste0(range(management.landscaping$height.m.median)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(management.landscaping$height.m.median)%>%round(2), "(",
       sd(management.landscaping$height.m.median)%>%round(2), ")"),
paste0("Range: ", paste0(range(management.landscaping$tree.conifer.nat.dens)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(management.landscaping$tree.conifer.nat.dens)%>%round(2), "(",
       sd(management.landscaping$tree.conifer.nat.dens)%>%round(2), ")"),

" s",

paste("Mean (SD) Grass:", mean(dens.matrify.gc$grass*100)%>%round(2),
            "(",
            sd(dens.matrify.gc$grass*100)%>%round(2), ");",
      "Impervious:", mean(dens.matrify.gc$impervious.sqft*100)%>%round(2),
            "(",
            sd(dens.matrify.gc$impervious.sqft*100)%>%round(2), ");",
      "Dirt/Litter:", mean(dens.matrify.gc$dirt.litter*100)%>%round(2),
            "(",
            sd(dens.matrify.gc$dirt.litter*100)%>%round(2), ")"),


paste0("Range: ", paste0(range(management.landscaping$height.m.median)%>%round(2), collapse = "-"),
       "; Mean(SD): ", mean(management.landscaping$height.m.median)%>%round(2), "(",
       sd(management.landscaping$height.m.median)%>%round(2), ")"),

paste("Yes:", sum(management.landscaping$Irrigation=="yes", na.rm = T),
      "No:", sum(management.landscaping$Irrigation=="no", na.rm=T)),

paste("Mulch Y/N:", paste(sum(management.landscaping$Mulch=="yes", na.rm = T),
                           sum(management.landscaping$Mulch=="no", na.rm=T), 
                           sep = "/"),
      "Herbicide Y/N:", paste(sum(management.landscaping$Herbicide=="yes", na.rm = T),
                           sum(management.landscaping$Herbicide=="no", na.rm=T), 
                           sep = "/"),
      "Fertilizer Y/N:", paste(sum(management.landscaping$Fertilizer=="yes", na.rm = T),
                           sum(management.landscaping$Fertilizer=="no", na.rm=T), sep = "/")
    )

)
)


knitr::kable(covariate.definitions,
       caption = '(ref:definition)',
       format = "pandoc", escape = TRUE, format.args = list(decimal.mark = ',', big.mark = "'"))
 


```


(ref:definition) Definition of independent variables used in PERMANOVA and correlation analysis [@taxDB; @KCDB; @ACS5yr; @xian2011; @homer2015]. Summary statistics for independent variables for both the population of office developments in Redmond and Bellevue and the sample of sites studied (`r sum(population.covariates$vegetation_class %in% c("WW", "XX", "LP")) ` and 20 sites, respectively).  Median income ($) and % foreign born are included to compare patterns in commercial developments with patterns found significant in residential research.


## Vegetation data collection

I censused vegetation communities in summer of 2015. Each tree and shrub was identified to species or genus [@sibley2009; @dirr1997hardy; @dirr2009manual]. Trees with DBH < 4" were considered saplings and not included in analysis. This cutoff includes all "significant" trees in Redmond and Bellevue's zoning codes (greater than 6" or 8" DBH). Following @daniels2006yds, I grouped conifers under 2 m into a broad class of dwarf conifer species. `r sum(matrify.tree.sp.only[ , colnames(matrify.tree.sp.only) %in% c("cedar.1", "cedar.2", "unknown.broadleaf.1", "unknown.broadleaf.2", "unknown.broadleaf.3", "unknown.broadleaf.4", "unknown.broadleaf.5", "unknown.broadleaf.6")]) ` individual trees (`r 100*(sum(matrify.tree.sp.only[ , colnames(matrify.tree.sp.only) %in% c("cedar.1", "cedar.2", "unknown.broadleaf.1", "unknown.broadleaf.2", "unknown.broadleaf.3", "unknown.broadleaf.4", "unknown.broadleaf.5", "unknown.broadleaf.6")])/sum(matrify.tree.sp.only)) `%) and `r sum(matrify.shrub.site[ , 71:79]) ` shrubs (`r 100*(sum(matrify.shrub.site[ , 71:79])/sum(matrify.shrub.site) ) `%) could not be identified ; these were given a unique identifier code for multivariate community analysis. Some tree and shrub species were grouped at the genus level due to the abundance of very similar cultivars in the landscaping trade, including _Prunus_ L. sp. and _Malus_ Mill. sp.

I assigned tree and shrub genera to one of three provenance categories---native, non-native, or ambiguous [@USGSplants; @USDAplants]. The ambiguous category was used for genera including both native and non-native cultivated species that are difficult to distinguish, and/or frequently interbred and sold as crosses. For example, some _Mahonia_ Nutt. sp. are native (_M. aquifolium_ (Pursh) Nutt. and _M. nervosa_ (Pursh) Nutt.), while others originate in Asia (_Mahonia japonica_ (Thumb.) DC.) and many hybrids are bred and sold by nurseries (e.g. _Mahonia x media_ "Charity" Brickell).


## Data Analysis

Woody vegetation analysis methods are summarized in Figure \@ref(fig:FIG-diagram-methods). I standardized tree and shrub abundance data and ground cover area by total site area in acres. This transformation preserves parcel boundaries as the unit of analysis and reflects developer and landowner actions during and following development that determine the amount of impervious surface and plantible area, the number of trees preserved, and the number of trees and shrubs planted. Between site standardization (e.g. Wisconsin standardization) was not used as the vegetation on all sites was completely censused. 


```{r FIG-diagram-methods, fig.cap = "Summary of vegetation data analysis methods."}

	knitr::include_graphics("../images/vegetationmethods.png")
  
```

### Identifying and describing vegetation clusters on office developments

I used flexible beta clustering and indicator species analysis to delineate vegetation community clusters on office developments. I used the agnes {vegan} function with beta = -0.5 to produce an ecologically interpretable dendrogram with minimal chaining [@mccune2002; @dufrene1997; @milligan1989; @breckenridge2000; @vegan]. 
I performed indicator species analysis, which assesses the predictive values of species as indicators of the conditions at site groups, using multipatt {indicspecies} [@decaceres2010; @indicspecies; @decaceres2013]. I ran the permutation-based function 100 times and took the mean of the indicator statistics generated for each species [@dysoncode].

After identifying vegetation community typologies, I used simple univariate PERMANOVA models to test if ground cover (%) differed between groups and Pearson's Chi-squared test to test if maintenance regime differed [adonis2 {vegan} and chisq.test {stats}; @vegan]. PERMANOVA is a permutation based implementation of ANOVA/MANOVA that avoids assumptions about underlying distributions of community structure and can be used with non-Euclidian distance matrices [@anderson2001]. Bartlett tests of homogeneity find no difference between group variances (bartlett.test {stats}).

### Explaining variation in tree and shrub community structure

I used a multi-step approach to avoid transforming independent variables or using ordination to collapse related variables, as these actions make results less interpretable for urban planners and other professionals without back transformation. I first tested each variable individually in a simple multivariate PERMANOVA model. I used ANOVA to test for significant differences in dispersion for categorical variables [anova {stats} and betadisper {vegan}; @vegan]. I then constructed models using all variables with significant pseudo-_F_ values ($\alpha \leq$ 0.05) in all possible single and multiple variable model combinations. I used a custom AICc function based on residual sums of squares to compare models and identify those with the best support [@dysoncode].

Non-metric multidimensional scaling (NMDS) is a rank-based ordination technique that is robust to data without identifiable distributions, can be used with any distance or dissimilarity measure  [@mccune2002]. I used 100 repetitions of the metaMDS {vegan} implementation of NMDS to find a stable minima [@vegan; @mccune2002]. 


# Results and Discussion {#CH2-results}

I found that woody vegetation communities on office developments in Redmond and Bellevue, Washington are heterogenous with distinct groups identified by cluster analysis (Table \@ref(tab:TAB-site-summary-tables-tree)). This within land use heterogeneity suggest implications for how urban ecologists sample. Additionally, I found evidence that development and landscaping outcomes, not socio-economic variables, are behind major divisions in vegetation groups in contrast with previous research [@hope2003; @luck2009; @clarke2013]. This impacts the quality and quantity of habitat provided by woody vegetation on office developments, with important implications for conservation and public policy. 

## Observed woody vegetation communities

I recorded a total of `r sum(matrify.tree.sp.only)` individual trees and  `r sum(matrify.shrub.site)` individual shrubs from `r unique(tree.native$tree.species) ` and `r unique(shrub.native$shrub.species) ` taxonomic groups respectively (Supplemental Tables 1 & 2). 
Only _Rhododendron sp._ were found on all 20 sites surveyed. Four tree species and nine shrub species were found on more than half of all office developments, with `r sum(colSums(PA.tree.sp.only) == 1) ` tree species and `r sum(colSums(PA.shrub.site) == 1) ` shrub species found only once. 

Native tree species accounted for `r 100 * (sum(matrify.tree.sp.only.native) / sum(matrify.tree.sp.only)) `% of total individuals observed, and three of the top five most abundant species. On average, native tree species accounted for `r 100 * mean(rowSums(matrify.tree.sp.only.native) / rowSums(matrify.tree.sp.only)) `% of the trees found on each office development, though sites varied widely with 0%--99% native tree species.
_Pseudotsuga menziesii_ was by far the most abundant tree species, with `r 100*( 746 / sum(matrify.tree.sp.only))`% of observed individuals. _Thuja plicata_ (`r 100*( 245 / sum(matrify.tree.sp.only))`%), _Acer macrophyllum_ (`r 100*( 218 / sum(matrify.tree.sp.only))`%), _Acer rubrum_ (`r 100*( 132 / sum(matrify.tree.sp.only))`%), and _Acer platanoides_ (`r 100*( 100 / sum(matrify.tree.sp.only))`%) complete the top five. _Prunus sp._ and _Alnus rubra_ were both widespread species (found on 12 and 9 sites, respectively) but never very abundant on any one site.
`r sum(colSums(matrify.tree.sp.only) < 11)` species were observed fewer than 10 times across all office developments.

In contrast, non-native tree species accounted for the majority of shrub species observed. On average, native shrubs accounted for only `r 100 * mean(rowSums(matrify.shrub.site.native) / rowSums(matrify.shrub.site)) `% of the shrubs observed on each office development, and never more than `r 100 * max(rowSums(matrify.shrub.site.native) / rowSums(matrify.shrub.site)) `% of shrubs. 
The five most abundant shrub species were all non-native and accounted for `r 100*( (1267+1007+612+581+419) / sum(matrify.shrub.site))`% of observed individuals; these were _Hibiscus syriacus_, _Berberis thunbergii_, _Rhododendron sp._, _Prunus laurocerasus var. zabeliana_, and _Cornus sericea_. The most abundant native species was _Acer circinatum_, with only `r 100*( (265) / sum(matrify.shrub.site))`% of observed individuals. 
`r sum(colSums(matrify.shrub.site) < 11)` species were observed fewer than 10 times across all office developments.

The number of tree and shrub species per office development varied from 


The 20 office developments also varied in tree and shrub species abundance, density, beta diversity, and effective species richness (Table \@ref(tab:TAB-site-summary-tables-tree)). The number of tree and

beta diversity

```{r TAB-site-summary-tables-tree}

temp <- data.frame(matrix(unlist(pretty.descriptive.stats.site),
                          nrow = nrow(pretty.descriptive.stats.site),
                          byrow = FALSE),
                   stringsAsFactors = FALSE)
colnames(temp) <- colnames(pretty.descriptive.stats.site)
temp[, 2:6] <- lapply(temp[, 2:6], as.numeric) %>%
                    lapply(., round, digits = 2)

  knitr::kable(temp[c(2:4, 6:7, 8,9,5, 15:17, 19:20, 18) , ],
               row.names = FALSE,
               caption = "Observed tree and shrub communities on sampled office developments.",
               format = "pandoc", escape = TRUE,
               format.args = list(decimal.mark = ',', big.mark = "'"))

  
  

```

higher species richness is generally due to greater numbers of non-native species
this is particularly seen with trees.

compare with residential?



Pattern of few highly abundant species with a long tail of rare species is a common pattern also occuring in e.g. residential lawns [@thompson2004].

However, number of species found not related to site area.



Species information for different planting areas on site (multipatt)



## Woody vegetation groups composition

I identified two groups of each tree and shrub vegetation based on flexible beta cluster analysis (flexible beta = -0.5; agglomerative coefficients of `r beta.5.tree$ac ` and `r beta.5.shrub$ac ` respectively; Table \@ref(tab:TAB-groupabund)). Using indictor species analysis, I found the Native Tree group (11 sites) is characterized by _Thuja plicata_, _Acer macrophyllum_ Pursh, _Arbutus menziesii_ Pursh, and _Alnus rubra_ Bong, while the Ornamental Tree group (9 sites) is characterized by _Acer rubrum_ L. The Native Shrub group (11 sites) is characterized by _Acer circinatum_ Pursh, _Corylus sp._ L., _Gaultheria shallon_ Pursh, _Mahonia sp._ Nutt., _Symphoricarpos sp._ Duham., and _Vaccinium parvifolium_ Sm., and the Ornamental Shrub group (9 sites) by _Prunus laurocerasus_ L. 


```{r TAB-groupabund}

names(tree.cluster.native) <- tree.native[ match(names(tree.cluster.native),
                                                 tree.native$tree.species),
                                           "tree.scientific.update"]
names(tree.cluster.orndec) <- tree.native[ match(names(tree.cluster.orndec),
                                                 tree.native$tree.species),
                                           "tree.scientific.update"]


temp <- tibble(
    `Rank` = c("1", "2", "3", "4", "5", "6", "7", "8", "9", "10"),
    `Native Tree Group` = paste(names(head(
        tree.cluster.native, 10)),
        " (",
        (head(tree.cluster.native, 10) / 11) %>% round(1),
        ")" , sep = ""),
    `Ornamental Tree Group` = paste(names(head(
        tree.cluster.orndec, 10)),  " (",
        (head(tree.cluster.orndec, 10) / 9) %>% round(1),
        ")" , sep = ""),
    `Native Shrub Group` = paste(names(head(
        shrub.cluster.native, 10)), " (",
        (head(shrub.cluster.native, 10) / 11) %>% round(1),
        ")" , sep = ""),
    `Ornamental Shrub Group` = paste(names(head(
        shrub.cluster.cultiv, 10)), " (",
        (head(shrub.cluster.cultiv, 10) / 9) %>% round(1),
        ")" , sep = "")
    )

knitr::kable(temp,
             caption = "Rank abundance of tree and shrub species for each community group identified by flexible-beta analysis.", 
             row.names = FALSE,
             format = "pandoc", escape = TRUE, format.args = list(decimal.mark = ',', big.mark = "'"))


  
```


```{r CALC-mean-calcs}

shrub.ac.mean <- merge(sample.covariates, vegetation.clusters,
                     by = "SiteName",
                     sort = FALSE) %>% 
    group_by(shrub.cluster.name) %>%
    summarise_if(is.numeric, .funs = mean)

tree.ac.mean <- merge(sample.covariates, vegetation.clusters,
                     by = "SiteName",
                     sort = FALSE) %>% 
    group_by(tree.cluster.name) %>%
    summarise_if(is.numeric, .funs = mean)
 
    
shrub.ml.mean <- merge(vegetation.clusters, management.landscaping,
                     by.x = "SiteName", by.y= "Site",
                     sort = FALSE) %>%
    mutate(tot.abund = rowSums(matrify.shrub.site)) %>%
    group_by(shrub.cluster.name) %>%
    summarise_if(is.numeric, .funs = mean)

tree.ml.mean <- mutate(management.landscaping,
                       tot.abund = rowSums(matrify.tree.sp.only)) %>%
    group_by(tree.cluster.name) %>%
    summarise_if(is.numeric, .funs = mean)    


shrub.gc.mean <- merge(dens.matrify.gc, vegetation.clusters,
                     by.x = 0, by.y = "SiteName",
                     sort = FALSE) %>% 
    group_by(shrub.cluster.name) %>%
    summarise_at(.vars = c("dirt.litter",
                            "grass", "mulch", "impervious.sqft"
                            ), .funs = mean)

tree.gc.mean <- merge(dens.matrify.gc, vegetation.clusters,
                     by.x = 0, by.y = "SiteName",
                     sort = FALSE) %>% 
    group_by(tree.cluster.name) %>%
    summarise_at(.vars = c("dirt.litter",
                            "grass", "mulch", "impervious.sqft"
                            ), .funs = mean)


```


In addition to the origin of tree and shrub species, the two groups are distinct in the average abundance of trees and shrubs per site (Native Tree mean = `r tree.ml.mean[1,'tot.abund'] `,
Ornamental Tree mean = `r tree.ml.mean[2,"tot.abund"] `
with Pr(>_F_) = `r count.tree[1,5] `; 
Native Shrub mean = `r shrub.ml.mean[2,"tot.abund"] `,
Ornamental Shrub mean = `r shrub.ml.mean[1,"tot.abund"] `
with Pr(>_F_) = `r count.shrub[1,5] `
). 
The median height of dominant native conifers was also significantly different between Native and Ornamental clusters for trees and shrubs (tree mean values = `r tree.ml.mean[1,"height.m.median"] ` m
and `r tree.ml.mean[2,"height.m.median"] ` m
with Pr(>_F_) = `r mheight.tree[1,5] `;
shrub mean value = `r shrub.ml.mean[2,"height.m.median"] ` m
and `r shrub.ml.mean[1,"height.m.median"]` m
with Pr(>_F_) = `r mheight.shrub[1,5]`).
However, there was no difference in area between Native and Ornamental clusters for either trees or shrubs (
tree Pr(>_F_) = `r area.tree[1,5]`;
shrub Pr(>_F_) = `r area.shrub[1,5]`). 

Other differences between the groups are also of interest. Associated ground cover on Native and Ornamental Tree sites differed significantly for percent impervious surface cover on site but not grass or combined dirt and liter cover. Native and Ornamental Shrub sites only differed for percent grass cover. Dead wood was significantly more abundant on Native Tree sites than Ornamental Tree sites 
(mean value = `r tree.ml.mean[1,"dead.wood"]`
and `r tree.ml.mean[2,"dead.wood"]`
with Pr(>_F_) = `r dw.tree[1,5]`),
but not between shrub site groups. Irrigation, mulching, herbicide, and fertilizer application had only three "no" responses and thus I cannot draw any well supported conclusions.

Finally, there was substantial co-occurance between Native and Ornamental groups. Of the 20 office developments surveyed, nine sites belong to both native tree and shrub community groups, and seven sites belong to both ornamental tree and shrub community groups.

**add figure or table to illustrate?**



## Socio-economic variables do not explain variation in tree or shrub community composition

### Neighborhood-scale 

Neighborhood-scale socio-economic variables found important in residential land use research did not significantly explain variation in woody vegetation community composition on office developments [@hope2003; @martin2004; @luck2009; @schmid1975; @fraser2000; @clarke2013].
> list citations after key variables e.g. race (), wealth (), country of origin (),...

This supports my hypothesis that neighborhood socio-economic variables specific to residential property are not necessarially important for commercial properties.

When coupled with similar findings in municipal parks, these results suggest that different socio-economic drivers, motivations, and preferences drive vegetation community composition on each land use type [@kinzig2005; @martin2004; @leong2018; @faeth2011]. This mismatch means that urban ecologists cannot assume that the same variables or mechanisms explain variation for all land use types, and this must be reflected in ecosystem models. 

For socio-economic variables to be significant drivers of vegetation on office developments, the surrounding socio-economic context would need to influence developer and landowner choices of trees and shrubs. This could occur in areas where office developments are adjacent and visible to residential property. However, zoning code in Bellevue and Redmond---as in much of the United States---actively separates and screens the different land uses from one another. 

Alternative explainations for different drivers of woody vegetation community on office developments include the intended audience, developer motivations, and differences in study design. Unlike residential properties, where homeowners use vegetation choices to signal to their neighbors, owners of office developments are signalling to prospective and existing tenants [@nassauer2009; @laverne2003; @cook2012; @peterson2012; @levy2013]. Studies examining why landscape architects make planting decisions are fewer in number than residential homeowners. In Toronto, factors like site aspect, appearance, and available space rate more highly in species selection than whether species are native and nearby canopy composition for landscape architects, however city staff try to plant native species whenever possible [@conway2016]. Differences in study design may also be responsible; other studies use index response variables with univariate regression [@hope2003; @martin2004], measures dependent on effort [@karlik2001; @martin2004], and plot or transect designs which confound different actors and outcomes [@biyrbe2013]. Additionally, limiting my sampling design with respect to surrounding impervious surface reduced my ability to detect the influence of this variable on vegetation community composition.


### Site-scale

Site-scale socio-economic variables were also not significant in explaining variation in tree or shrub community composition on office developments. This includes site age, building quality (proxy for rent extraction), and assessed land value (land rent gradient). This is surprising and fails to support my hypothesis. 

Site age was suggested as a determinant of woody vegetation community composition by studies on residential properties [@boone2010; @avolio2018], landscaping professionals I interviewed, and my examination of contemporaneous landscaping plans filed with the cities of Bellevue and Redmond. Landscaping professionals mentioned trends in plant popularity, including _Pieris japonica_ (Thunb.) D. Don ex G. Don in the late 1980s and increasing use of native plants since 2000. Alternative explainations for this finding include: building age is a poor measure for landscaping age due to replanting; an interaction between age and landscaping budget; or that only a subset of office developments are planted with in vogue landscape plants, such as the "Medium" (MM) group which was undersampled.


## Development and landscaping outcomes are related to vegetation community composition

Tree preservation appears particularly important for characterizing woody vegetation communities on office developments. The outcome of development and landscaping actions are associated with the first NMDS axis for the tree community and the Native Tree cluster (Figure \@ref(fig:FIG-tree-management-NMDS)). Fitted environmental vectors found strong relationships with median dominant native conifer height (a proxy for stand age), native conifer density, the presence of stands predating development, and dead wood abundance (particularly stump abundance). 

These outcome variables also significantly explained variability in shrub community structure using PERMANOVA. The best supported models included median dominant native conifer height, Native vs. Ornamental Tree cluster, native conifer density, and the presence of stands predating development (Table \@ref(tab:TAB-shrub-model-comparison)). This supports my hypothesis that these actions impact vegetation communities on office developments. This also agrees with clustering results and suggests that a suite of decisions is being made either to retain more trees and plant native shrubs or retain fewer trees and plant ornamental trees and shrubs.


```{r FIG-tree-management-NMDS, fig.cap = '(ref:NMDS)', fig.height=6.5, fig.width=6.5}

  spd.col <- ifelse(management.landscaping$stand.predate.development == "yes", "black", "gray70")
      


      par(mfrow = c(2,2), mar = c(2,3,2,1))
      
      temp <- ordisurf(NMDS.tree.2d ~ management.landscaping$height.m.median, plot = F)
        plot(temp, ylab = "NMDS2", xlab = "")
        points(NMDS.tree.2d,
               display = "sites", 
               cex = 1.2, pch = 16)
        ordihull(NMDS.tree.2d, 
                 groups = vegetation.clusters$tree.cluster.name,
                 col = "gray",
                 draw = "polygon", 
                 label = TRUE,
                 alpha = .2)
        plot(envfit(NMDS.tree.2d, management.landscaping$height.m.median),  labels = "")
      title(main = "Median Domin. Native Conif. Ht. (m)")
      
      temp <- ordisurf(NMDS.tree.2d ~ management.landscaping$tree.conifer.nat.dens,
               plot = F)
        plot(temp, ylab = "NMDS2", xlab = "")
        points(NMDS.tree.2d,
               display = "sites",
               cex = 1.2,
               pch = 16)
        ordihull(NMDS.tree.2d,
                 groups = vegetation.clusters$tree.cluster.name,
                 col = "gray", draw = "polygon",
                 label = TRUE, alpha = .2)
        plot(envfit(NMDS.tree.2d, management.landscaping$tree.conifer.nat.dens),  labels = "")
      title(main = "Native Conifer Density")

      temp <- plot(NMDS.tree.2d, ylab = "NMDS2",
           xlab = "NMDS1", display = "sites")
          points(NMDS.tree.2d, display = "sites",
                 col = spd.col, cex = 1.2, pch = 16)
          ordihull(NMDS.tree.2d, groups = vegetation.clusters$tree.cluster.name,
                   col = "gray", draw = "polygon",
                   label = TRUE, alpha = .2)
          plot(envfit(NMDS.tree.2d, data.frame(as.factor(management.landscaping$stand.predate.development)),
                      na.rm = T), labels = c("No SPD", "Yes SPD"))
      title(main = "Stands Predating Development")
      
      temp <-
          ordisurf(NMDS.tree.2d ~ management.landscaping$dead.wood,
                   plot = F)
          plot(temp, ylab = "NMDS2", xlab = "NMDS1")
          points(NMDS.tree.2d,
                 display = "sites",
                 cex = 1.2,
                 pch = 16)
          ordihull(NMDS.tree.2d,
                   groups = vegetation.clusters$tree.cluster.name,
                   col = "gray",
                   draw = "polygon",
                   label = TRUE,
                   alpha = .2
                  )
          plot(envfit(NMDS.tree.2d, data.frame(management.landscaping$dead.wood, 
                                               management.landscaping$Stump.count,
                                               management.landscaping$Snag.count)),  
               labels = c("Total", "Stumps", "Snags"))
          title(main = "Dead Wood Abundance")


```

(ref:NMDS) Two dimensional NMDS representation of tree community composition. Median dominant native conifer height, native conifer density, and the presence of stands predating development are associated with the first NMDS axis. Dead wood is associated with both axes. Black dots represent sites with stands predating development, gray dots sites without. Ordination has not been rotated prior to plotting.


```{r TAB-shrub-model-comparison}

colnames(shrub.model.summary)[3] <- "Pseudo-F"

temp <- shrub.model.summary[ 1:11, c(6, 3, 4, 7)] 
temp <- temp[ order(temp$`Pseudo-F`, decreasing = T), ]

knitr::kable(temp,
       digits = c(1,3,5,2),
       caption = "PERMANOVA model summary comparing multivariate models of shrub community composition.",
             format = "pandoc", escape = TRUE,
       format.args = list(decimal.mark = ',', big.mark = "'"))

```


Development and landscaping outcomes are the end point of economic decision making processes poorly studied in urban ecology. While the coarse socio-economic variables examined here were not significant, developer and landowner motivations and decisionmaking were not considered explicitly. 
For example, developers may consider ease of construction based on site conditions, relative cost of different construction approaches, preferences of the landowner and customer specifications, previous company experience or company aesthetic, and development regulations [which impose costs on developers; @grimes2015; @hakkinen2011; @nappi2006; @dorney1984; @conway2016]. These considerations may influence financing available to developers, financial risk, and the appeal of the completed project to potential renters [@laverne2003]. Further, when considering multiple competing options---such as different landscaping choices---developers and landowners may satisfice. That is, they search through alternatives until one meets an acceptability threshold, and that is the option chosen.

## Implications for urban habitat quality and quantity

As local biological communities are largely determined by available remnant, spontaneous and planted vegetation, varying stand age and abundance on native conifers mean that office developments provide varying habitat quality and quantity to other organisms [@wittig2010; @mckinney2002; @faeth2011; @avolio2018; @faeth2005]. For example, native vegetation is more likely to support native insects and native birds than ornamental plantings [@belaire2014; @chong2014; @pennington2011; @paker2014; @narango2018; @burghardt2009; @dysonPhD]. One estimate suggests native vegetation volume must be above 70% in order to maintain populations of native insectivorous bird species [@narango2018]. Further research should expanding this research to encompass the whole range of urban land use types, as well as investigating the mechanistic links between landscape patterns and processes at both site- and landscape-scales.

The variation in woody vegetation communities on office developments suggests better habitat conservation during and following development is possible. We can point to actions and policies more likely to contribute high quality habitat and benefit other trophic levels, including tree preservation policies, promoting native tree and shrub planting, and removing policy barriers to native vegetation [@dysonPhD; @threlfall2017]. 

However, the motivations driving exemplary adoption of these actions are currently opaque. Anecdotes shared during fieldwork suggest owner-occupied office space, cost, and personal values and connections to nature may be important factors in determining development and landscaping actions, as with homeowners [@goddard2013; @nassauer1993; @kiesling2010; @kendal2012; beumer2018; @helfand2006; @peterson2012]. Further research should attempt to better understand developer and landowner decisionmaking in order to improve quality and quantity on commercial property [@uren2015]. These include interviews to better understand tree preservation and planting motivations [@hakkinen2011; @conway2016]; aesthetic preference studies as on residential developments [@larson2009; @harris2012]; tracing decision making pathways based on previous land use [@yang2017]; and expanding on this research to better capture various maintenance regimes.

## Implications for sampling design

The heterogenity I observed within a single land use has important implications for sampling design in urban ecology. In the population of 405 office developments studied here, the Native Tree and Shrub communities are more rare than Ornamental Tree and Shrub communities. More precisely, extrapolation suggests there are approximately 70 Native Tree and 335 Ornamental Tree developments for a ratio of around 1:5 developments, and 152 Native Shrub and 253 Ornamental Shrub developments for a ratio of around 2:5 developments (Table \@ref(tab:TAB-confusion-matrix)). Note the accuracy of these estimates will be influenced by the medium vegetation group (MM), as it is large and proportionally undersampled, and the relatively small sample size.

```{r TAB-cm1}


t1 <- tibble(`Tree Cluster` = c("Native", "Ornamental"),
          LL = c(1,4),
          MM = c(0,3),
          MD = c(2,2),
          MC = c(3,0),
          HH = c(5,0))



```


```{r TAB-confusion-matrix}

t2 <- tibble(`Shrub Cluster` = c("Native", "Ornamental"),
          LL = c(0,5),
          MM = c(1,2),
          MD = c(3,1),
          MC = c(2,1),
          HH = c(5,0))  

knitr::kable(list(t1,t2),
             caption = "Category overlap between visually estimated vegetation class and Native and Ornamental groups derived from flexible-beta clusteringfor trees and shrubs. LL = low vegetation; MM = medium vegetation; MD = medium w/diverse shrubs; MC = medium w/canopy cover; HH = high vegetation",
             format = "pandoc", escape = TRUE, format.args = list(decimal.mark = ',', big.mark = "'"))


```

In this system, the choice of sampling design can result in very different conclusions when comparing different land uses or examining one land use across the urban gradient [e.g. @blair1999; @bourne2013]. For example, consider a small random sample of the entire population of 405 office developments in Bellevue and Redmond. This sample would contain all or almost all sites dominated by ornamental trees with a low chance of sampling the ecological communities found on sites dominated by native trees. 

If we consider the number of trees per site, the sample would not capture the fat right tail of sites with very high tree abundance (Figure \@ref(fig:FIG-extrapolated-dist)). If this sample is taken as representative of the whole population, it would lead to misleading conclusions about the range of vegetation communities on office developments alone or in comparison with other land uses, and potential sollutions already extant on the landcape may be overlooked [@mcintyre2000urban]. Thus, how researchers sample determines patterns found. In this research, I found diverse vegetation communities and important trends because I stratified along a vegetation gradient; however other gradients were not fully sampled [@dysonPhD].


```{r FIG-extrapolated-dist, fig.cap = '(ref:extrapolate)'}

vc.mean <- mutate(sample.covariates,
                       tot.abund = rowSums(matrify.tree.sp.only)) %>%
    group_by(vegetation_class) %>%
    summarise_at(.vars = c("tot.abund"),
                 .funs = funs(treeab.mean = mean, treeab.sd = sd))

pop.tree.extrap <- merge(population.covariates, vc.mean, 
                         by = "vegetation_class", sort = F)

library(ggplot2)

ggplot(pop.tree.extrap, aes(jitter(pop.tree.extrap$treeab.mean,
                                   pop.tree.extrap$treeab.sd))) + 
    geom_freqpoly(bins = 35) +
    labs( x = "Tree Abundance per Site", 
                            y = "Number of Sites",
                            title = "Tree Abundance on Office Developments"
    )

```

(ref:extrapolate) Extrapolated distribution of the number of trees on office developments based on observed mean and standard deviations for each vegetation class used in sampling (HH, MC, MD, MM, LL).


Thus it is worth reiterating that researchers should choose their sampling strategy carefully based on research questions and the underlying distribution of key variables in urban contexts with long environmental gradients [@mcintyre2000urban; @ellis1997; @telford2011]. If the phenomena of interest is related to vegetation structure or community composition, you must search out sites representing all vegetation types to measure the entire gradient instead of sampling only along an urban gradient. Here, collecting visual informatin on different types of vegetation communities prior to sampling improved sampling design. Other studies have sampled based on native/non-native planting aesthetics based on knowledge of local landscaping patterns [e.g. @lerman2011]. 

# Conclusion

I found that developments in Bellevue and Redmond, Washington, are heterogenous with distinct Native and Ornamental Tree and Shrub vegetation communities. My research provides a counterpoint to residential land use studies that found neighborhood socio-economic conditions important in determining vegetation communties. This research also provides evidence that different development and landscaping choices meaningfully influence urban vegetation and result in this divergent community composition across office developments. Future research needs to examine motivations behind these choices in order to improve the quality and quantity of habitat available in urban ecosystems. 



# Supplemental Table 1: Trees

```{r TAB-all-trees}


alltree <- merge(descriptive.stats.tree.sp, tree.native,
              by.x = "species.name", by.y = "tree.species") %>%
        arrange(., tree.scientific)

alltree$species.range <- paste0(alltree$species.min, "--", alltree$species.max)
alltree$tree.origin.update <- ifelse(alltree$tree.origin.update %in% c("non.native", "non-native"),
                           "Non-native", 
                           ifelse(alltree$tree.origin.update == "native",
                                  "Native",
                                  ifelse(alltree$tree.origin.update == "ambiguous",
                                         "Both planted w/croses",
                                         alltree$tree.origin.update)))



PA.tree.sp.only <- PA.tree.sp.only[ , match(alltree$species.name, colnames(PA.tree.sp.only))]
    colnames(PA.tree.sp.only) == alltree$species.name

alltree$tree.incidence <- colSums(PA.tree.sp.only)


knitr::kable(alltree[ , c("tree.scientific",
                          "tree.origin.update",
                          "tree.incidence",
                           "species.range",
                           "species.total.abundance",
                           "species.mean.abundance",
                           "species.abundance.sd")], 
             col.names = c("Taxa", "Origin",
                           "No. Sites Found",
                           "Abundance Range",
                           "Total Abundance",
                           "Mean Abundance",
                           "Abundance SD"),
             row.names = FALSE,
             caption = "All tree species observed.",
             format = "pandoc", escape = TRUE, 
             format.args = list(decimal.mark = '.', big.mark = ",", digits = 2))

```

# Supplemental Table 2: Shrubs

```{r TAB-all-shrubs}

allshrub <- merge(descriptive.stats.shrub.sp, shrub.native,
              by.x = "species.name", by.y = "shrub.scientific.update") %>%
        arrange(., species.name) %>%
        distinct(species.name, .keep_all = TRUE)

allshrub$species.range <- paste0(allshrub$species.min, "--", allshrub$species.max)
allshrub$shrub.origin <- ifelse(allshrub$shrub.origin == "non-native",
                           "Non-native",
                           ifelse(allshrub$shrub.origin == "native",
                                  "Native",
                                  ifelse(allshrub$shrub.origin == "ambiguous",
                                         "Both planted w/crosses",
                                         allshrub$shrub.origin)))

frequency.shrub <- tibble(species.name = names(colSums(PA.shrub.site)),
                          frequency.shrub = colSums(PA.shrub.site) )

frequency.shrub$species.name == allshrub$species.name


allshrub$incidence <- frequency.shrub$frequency.shrub


knitr::kable(allshrub[ c(1:72,80:85,73:79),
                       c("species.name",
                         "shrub.origin.update",
                         "incidence",
                         "species.range",
                      "species.total.abundance",
                      "species.mean.abundance",
                      "species.abundance.sd")],
             col.names = c("Taxa", "Origin",
                           "No. Sites Found",
                           "Abundance Range",
                           "Total Abundance",
                           "Mean Abundance",
                           "Abundance SD"),
             row.names = FALSE, 
             caption = "All shrub species observed.",
             format = "pandoc", escape = TRUE, 
             format.args = list(decimal.mark = '.', big.mark = ","))
```




# Works Cited
